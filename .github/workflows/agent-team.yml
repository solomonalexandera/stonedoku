name: Agent Team (manual)

on:
  workflow_dispatch:
    inputs:
      task:
        description: "Task description"
        required: false
        default: "Implement the existing design brief in this repo"

jobs:
  run-agent-team:
    if: ${{ false }} # Optional/disabled by default. Flip to true to enable.
    runs-on: ubuntu-latest
    steps:
      - name: Checkout
        uses: actions/checkout@v4
      - name: Set up Python
        uses: actions/setup-python@v4
        with:
          python-version: "3.11"
      - name: Install agent deps
        run: |
          cd tools/agent-team
          python -m venv .venv
          source .venv/bin/activate
          pip install -r requirements.txt
      - name: Run orchestrator
        env:
          OPENAI_API_KEY: ${{ secrets.OPENAI_API_KEY }}
        run: |
          cd tools/agent-team
          source .venv/bin/activate
          python agent_team.py --task "${{ github.event.inputs.task }}"
